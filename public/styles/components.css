.sidebar{
  width:var(--sidebar-w); padding:16px;
  /* Pin to right, always visible */
  position:fixed; top:0; right:0; height:100vh;
  overflow-y:auto; z-index:30;
  border-left:1px solid var(--chip-border);
  background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
  backdrop-filter:blur(10px);
}
.sidebar .brand{display:flex;align-items:center;gap:10px;margin-bottom:14px}
.sidebar .brand .name{font-weight:700}
.sidebar .brand img.logo{width:28px;height:28px}
.sidebar .brand .developer-info{display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:.75rem;color:var(--muted)}
.sidebar .brand .developer-badge{background:var(--chip);border:1px solid var(--chip-border);border-radius:12px;padding:.25rem .5rem;backdrop-filter:blur(10px)}
.sidebar .brand .developer-text{background:linear-gradient(90deg,var(--primary-start) 0%, var(--primary-end) 100%);-webkit-background-clip:text;background-clip:text;color:transparent;font-weight:700}
.nav{display:flex;flex-direction:column;gap:10px}
.nav .item{display:flex;align-items:center;gap:10px;padding:.6rem .8rem;border-radius:12px;cursor:pointer;color:var(--fg);
  background:transparent;border:1px solid transparent}
.nav .item:hover{border-color:var(--chip-border);background:var(--chip)}
.nav .item.active{
  background:linear-gradient(90deg,var(--primary-start),var(--primary-end));
  color:#081018
}
.main-area{flex:1;display:flex;flex-direction:column;height:100dvh;overflow:hidden;padding-right:var(--sidebar-w)}
.toolbar{display:flex;align-items:center;justify-content:space-between;padding:12px 18px;
  border-bottom:1px solid var(--chip-border);
  background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));backdrop-filter:blur(10px);
  /* Keep header visible while content scrolls */
  position:sticky; top:0; z-index:40
}
.toolbar .title{display:flex;flex-direction:column;gap:6px}
.toolbar .brand{display:flex;align-items:center;gap:10px}
.toolbar .brand .app-name{font-weight:800;letter-spacing:.3px}
.toolbar .brand img.logo{width:24px;height:24px}
.brand img.logo{border-radius:8px;border:1px solid var(--chip-border);object-fit:contain;background:#fff}
.toolbar .path{color:var(--muted);font-size:.9rem}
.toolbar .db-status{color:var(--muted);font-size:.9rem}
.toolbar .db-status .dot{display:inline-block;width:10px;height:10px;border-radius:50%;box-shadow:0 0 0 3px rgba(0,0,0,0.25)}
.toolbar .db-status.ok .dot{background:var(--primary-start);box-shadow:0 0 0 3px rgba(0,184,148,0.25),0 0 12px rgba(0,184,148,0.45);animation:pulse-dot 1.8s ease-in-out infinite}
.toolbar .db-status.bad .dot{background:#64748B;box-shadow:0 0 0 3px rgba(100,116,139,0.25)}
.toolbar .db-status .text{opacity:.9}
.toolbar .actions{display:flex;gap:12px}
.btn{cursor:pointer;border:none;border-radius:12px;padding:.6rem .9rem;font-weight:600;background:linear-gradient(90deg,var(--primary-start),var(--primary-end));color:#081018;transition:box-shadow .15s ease}
.btn-primary{background:linear-gradient(90deg,var(--primary-start),var(--primary-end));color:#081018;transition:box-shadow .15s ease}
.btn-ghost{background:transparent;border:1px solid var(--chip-border);color:var(--fg);transition:border-color .15s ease, box-shadow .15s ease, background .15s ease}
/* Unified hover effects across buttons; keep colors unchanged on click */
.btn:hover,.btn-primary:hover{box-shadow:0 6px 20px rgba(0,0,0,.35)}
.btn:active,.btn-primary:active{box-shadow:0 6px 20px rgba(0,0,0,.35)}
.btn-ghost:hover{background:rgba(255,255,255,.10);border-color:var(--primary-end);box-shadow:0 0 0 3px var(--glow)}
.btn-ghost:active{background:rgba(255,255,255,.10);border-color:var(--primary-end);box-shadow:0 0 0 3px var(--glow)}
.view-root{padding:18px;flex:1;display:flex;flex-direction:column;min-height:0;height:calc(100dvh - var(--toolbar-h));overflow-y:auto;scroll-behavior:smooth;scrollbar-gutter:stable}
/* Dashboard-only override: revert red area scroll to previous behavior */
.view-root.dashboard-root{height:calc(100dvh - var(--toolbar-h));overflow-y:auto}
.card{
  border:1px solid var(--chip-border);
  border-radius:12px;padding:18px;box-shadow:var(--shadow);
  background:var(--card-bg);backdrop-filter:blur(10px);
}
/* Improve internal spacing in cards */
.card .label{margin-bottom:8px}
.card > * + *{margin-top:10px}
.grid{display:grid;gap:18px}
.grid.kpis{grid-template-columns:repeat(4,1fr)}
@media(max-width:1100px){.grid.kpis{grid-template-columns:repeat(2,1fr)}}
@media(max-width:700px){.grid.kpis{grid-template-columns:1fr}}
.kpi .label{font-size:.85rem;color:var(--muted)}
.kpi .value{font-size:1.6rem;font-weight:800}
.chart-card canvas{width:100%;height:clamp(240px, 35vh, 420px)}
.chart-card .status#monthLabel{font-weight:600;color:var(--fg)}
.chart-card #monthNav .btn{padding:.3rem .6rem}
.chart-card #salesDays{letter-spacing:.04em; direction:ltr; text-align:left}
/* Dashboard: assistant report flows within Sales Performance container */
#assistantReportOut{max-height:none; overflow:visible}
/* Month nav layout: ensure arrows flank the month label correctly */
.month-nav{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:8px;direction:ltr;min-width:220px}
.month-label{text-align:center}
.table{width:100%;border-collapse:collapse}
.table th,.table td{padding:.7rem .6rem;border-bottom:1px solid var(--chip-border)}
.table th{color:var(--muted);font-weight:600;text-align:start}
.reorder{color:#38BDF8}

/* Inventory: table card fills remaining space and scrolls internally */
#inventoryTableCard{flex:0 0 auto; min-height:0; overflow-y:auto}

/* Feasibility: scroll within AI study section only */
#aiStudy{max-height:56vh; overflow-y:auto}

/* Dashboard Sales Performance container manages its own scrolling */
#salesPerformanceCard{
  position:relative;
  display:flex;
  flex-direction:column;
  /* Self-scroll within dashboard only */
  max-height:clamp(520px,72vh,960px);
  overflow-y:auto;
  scroll-behavior:smooth;
  padding-right:8px; /* room for overlay buttons */
}

/* Overlay scroll buttons (modern, semi-transparent, fades out) */
.scroll-btn{
  position:absolute;
  right:12px;
  width:36px;height:36px;border-radius:999px;
  border:1px solid var(--chip-border);
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(4px);
  box-shadow:var(--shadow);
  color:var(--fg);
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;opacity:0;
  transition:opacity .24s ease, transform .16s ease;
  z-index:2;
}
.scroll-btn:active{transform:scale(.96)}
.scroll-btn.show{opacity:1}
.scroll-btn.up{top:12px}
.scroll-btn.down{bottom:12px}
.scroll-btn svg{width:18px;height:18px}

/* Themed select to match app identity */
.select{
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  width:100%;
  background:var(--chip);
  border:1px solid var(--chip-border);
  color:var(--fg);
  padding:.6rem .9rem;
  border-radius:var(--radius);
  font-family:'Noto Sans Arabic','Inter','Poppins','Segoe UI',Tahoma,sans-serif;
  font-size:.95rem;
  line-height:1.5;
  transition:border-color .15s ease, box-shadow .15s ease, background .15s ease;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24'%3E%3Cpath fill='%23E2E8F0' d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
  background-repeat:no-repeat;
  background-position: left 12px center; /* RTL: caret on left */
  padding-left:2rem;
}
.select:hover{background:rgba(255,255,255,0.08)}
.select:focus{outline:none;border-color:var(--primary-end);box-shadow:0 0 0 3px var(--glow);background:rgba(255,255,255,0.10)}
.select option{background:#0E1421;color:var(--fg)}

/* Themed input to match app identity */
.input{
  width:100%;
  background:var(--chip);
  border:1px solid var(--chip-border);
  color:var(--fg);
  padding:.6rem .9rem;
  border-radius:var(--radius);
  font-family:'Noto Sans Arabic','Inter','Poppins','Segoe UI',Tahoma,sans-serif;
  font-size:.95rem;
  line-height:1.5;
  transition:border-color .15s ease, box-shadow .15s ease, background .15s ease;
}
.input:hover{background:rgba(255,255,255,0.08)}
.input:focus{outline:none;border-color:var(--primary-end);box-shadow:0 0 0 3px var(--glow);background:rgba(255,255,255,0.10)}
.input[disabled]{opacity:.7;cursor:not-allowed}

/* Form layout helpers */
.form-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
@media(max-width:900px){.form-grid{grid-template-columns:repeat(2,1fr)}}
@media(max-width:600px){.form-grid{grid-template-columns:1fr}}
.field{display:flex;flex-direction:column;gap:10px}
.field .status{color:var(--muted);font-size:.85rem}

/* Responsive: sidebar width contracts on smaller screens, keep alignment */
@media(max-width:900px){
  :root{ --sidebar-w:220px }
}
@media(max-width:700px){
  :root{ --sidebar-w:200px }
}

/* Pulsing glow for DB status indicator */
@keyframes pulse-dot{
  0%{ transform:scale(1); box-shadow:0 0 0 3px rgba(0,184,148,0.25), 0 0 8px rgba(0,184,148,0.35) }
  50%{ transform:scale(1.12); box-shadow:0 0 0 3px rgba(0,184,148,0.35), 0 0 16px rgba(0,184,148,0.65) }
  100%{ transform:scale(1); box-shadow:0 0 0 3px rgba(0,184,148,0.25), 0 0 8px rgba(0,184,148,0.35) }
}

/* Internet indicator: LED-style, consistent with theme */
.net-status{color:var(--muted);font-size:.9rem}
.net-status .dot{display:inline-block;width:10px;height:10px;border-radius:50%;box-shadow:0 0 0 3px rgba(0,0,0,0.25)}
.net-status.ok .dot{background:var(--primary-start);box-shadow:0 0 0 3px rgba(0,184,148,0.25),0 0 12px rgba(0,184,148,0.45);animation:pulse-dot 1.8s ease-in-out infinite}
.net-status.bad .dot{background:#64748B;box-shadow:0 0 0 3px rgba(100,116,139,0.25)}
.net-status .text{opacity:.95}
